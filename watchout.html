<!DOCTYPE html>
<html>
  <body>
Watchout!
  </body>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>

    <script>
    var width = 960,
        height = 500,
        radius = 10;

    var nEnemies = 30;

    var svg = d3.select("body").append("svg")
        .attr("width", width)
        .attr("height", height);

    var data = _.range(0,nEnemies).map(function(i){return i;});

    svg.selectAll("circle")
      .data(data)
      .enter().append("circle")
      .attr("r", radius)
      .style("fill", "red");

    svg.selectAll("circle")
    //circles are still spawning out of bounds, TODO fix Math.random
       .attr("cx", function(){return Math.random()* ((width-radius*2) - (radius*2))  + (radius*2);})
       .attr("cy", function(){return Math.random()* ((width-radius*2) - (radius*2))  + (radius*2);})


    setInterval(function() {
        svg.selectAll("circle")
           .transition()
             .duration(900)
             .attr("cx", function(){return Math.random()* ((width-radius*2) - (radius*2))  + (radius*2);})
             .attr("cy", function(){return Math.random()* ((width-radius*2) - (radius*2))  + (radius*2);});

    }, 1000);

    </script>



</html>